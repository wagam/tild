<!DOCTYPE html><html lang="fr"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>TIL how to change url without updating page in browser - Tild</title><meta name="description" content="In a Next.JS / React project, I needed to update query params in URL to match values updated in a form. But I didn't want to reload and refresh the page completely because when the form is sent, the answers are updated by an API&hellip;"><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://wagam.github.io/tild/til-how-to-change-url-without-updating-page-in-browser.html"><link rel="amphtml" href="https://wagam.github.io/tild/amp/til-how-to-change-url-without-updating-page-in-browser.html"><link rel="alternate" type="application/atom+xml" href="https://wagam.github.io/tild/feed.xml"><link rel="alternate" type="application/json" href="https://wagam.github.io/tild/feed.json"><meta property="og:title" content="TIL how to change url without updating page in browser"><meta property="og:image" content="https://wagam.github.io/tild/media/posts/17/white-ceramic-teacup-with-saucer-near-two-books-above-gray-904616.jpg"><meta property="og:site_name" content="Tild"><meta property="og:description" content="In a Next.JS / React project, I needed to update query params in URL to match values updated in a form. But I didn't want to reload and refresh the page completely because when the form is sent, the answers are updated by an API&hellip;"><meta property="og:url" content="https://wagam.github.io/tild/til-how-to-change-url-without-updating-page-in-browser.html"><meta property="og:type" content="article"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Josefin+Sans&family=Josefin+Slab:wght@700&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://wagam.github.io/tild/assets/css/style.css?v=0200466040e50c410ff8e08f29f3aa58"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://wagam.github.io/tild/til-how-to-change-url-without-updating-page-in-browser.html"},"headline":"TIL how to change url without updating page in browser","datePublished":"2020-04-22T10:03","dateModified":"2020-04-27T14:26","image":{"@type":"ImageObject","url":"https://wagam.github.io/tild/media/posts/17/white-ceramic-teacup-with-saucer-near-two-books-above-gray-904616.jpg","height":3456,"width":5184},"description":"In a Next.JS / React project, I needed to update query params in URL to match values updated in a form. But I didn't want to reload and refresh the page completely because when the form is sent, the answers are updated by an API&hellip;","author":{"@type":"Person","name":"Marc"},"publisher":{"@type":"Organization","name":"Marc"}}</script><script async src="https://wagam.github.io/tild/assets/js/lazysizes.min.js?v=300b16f1c14e1537e6b064f464ab33b1"></script></head><body><header class="topbar js-top is-sticky"><div class="topbar__inner"><a class="logo" href="https://wagam.github.io/tild/">Tild</a><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle">Menu</button><ul class="navbar__menu"></ul></nav></div></header><div class="content"><div class="infobar"><div class="infobar__search"><form action="https://wagam.github.io/tild/search.html"><input type="search" name="q" placeholder=" search..."></form></div></div><main class="main main--full"><article class="post"><figure class="post__featured-image" style="padding-bottom: calc(3456/5184 * 100%)"><img class="lazyload" src="https://wagam.github.io/tild/media/posts/17/responsive/white-ceramic-teacup-with-saucer-near-two-books-above-gray-904616-xs.jpg" data-srcset="https://wagam.github.io/tild/media/posts/17/responsive/white-ceramic-teacup-with-saucer-near-two-books-above-gray-904616-xs.jpg 300w ,https://wagam.github.io/tild/media/posts/17/responsive/white-ceramic-teacup-with-saucer-near-two-books-above-gray-904616-sm.jpg 480w ,https://wagam.github.io/tild/media/posts/17/responsive/white-ceramic-teacup-with-saucer-near-two-books-above-gray-904616-md.jpg 768w ,https://wagam.github.io/tild/media/posts/17/responsive/white-ceramic-teacup-with-saucer-near-two-books-above-gray-904616-lg.jpg 1024w ,https://wagam.github.io/tild/media/posts/17/responsive/white-ceramic-teacup-with-saucer-near-two-books-above-gray-904616-xl.jpg 1360w ,https://wagam.github.io/tild/media/posts/17/responsive/white-ceramic-teacup-with-saucer-near-two-books-above-gray-904616-2xl.jpg 1600w" data-sizes="auto" alt=""></figure><header class="u-header post__header"><h1>TIL how to change url without updating page in browser</h1><div class="u-header__meta u-small"><div><a href="https://wagam.github.io/tild/authors/marc/" title="Marc">Marc</a> <time datetime="2020-04-22T10:03">22 avril 2020 </time><a href="https://wagam.github.io/tild/web_development/" class="u-tag u-tag--1">Web development</a></div></div></header><div class="post__entry u-inner"><p>In a Next.JS / React project, I needed to update query params in URL to match values updated in a form. But I didn't want to reload and refresh the page completely because when the form is sent, the answers are updated by an API call. </p><p>Typically, you are suppose to use </p><pre><code>Router.push(url, as, {shallow: true})</code></pre><p>But it does not worked in my case after various attempts.</p><p>After some research on the internets, I found a solution from <a href="https://developer.mozilla.org/en-US/docs/Web/API/History/pushState">Mozilla</a> : history state</p><p>To add history state in the browser without reloading the page, it exists this method: </p><pre><code> history.pushState(state,title,url)</code></pre><p>In my case, I updated only the URL param </p><pre><code> history.pushState({},'',newURLWithQueryParams)</code></pre><p>Hope it can help</p><p> </p><p>Enjoy!</p></div><aside class="post__aside"><div class="post__last-updated u-small">This article was updated on 27 avril 2020</div><div class="post__share"></div></aside><footer class="post__footer"><ul class="post__tag box"><li><a href="https://wagam.github.io/tild/til/" class="u-tag u-tag--1" title="TIL">TIL</a></li><li><a href="https://wagam.github.io/tild/web_development/" class="u-tag u-tag--1" title="Web development">Web development</a></li></ul><div class="post__bio u-author box"><div><h4 class="u-author__name"><a href="https://wagam.github.io/tild/authors/marc/" title="Marc">Marc</a></h4></div></div><nav class="post__nav box"><div class="post__nav__prev"><a href="https://wagam.github.io/tild/til-how-to-rename-mass-files-with-zsh.html" class="post__nav__link" rel="prev"><img class="lazyload" src="https://wagam.github.io/tild/media/posts/16/responsive/files-1614223_1280-xs.jpg" data-srcset="https://wagam.github.io/tild/media/posts/16/responsive/files-1614223_1280-xs.jpg" data-expand="300" alt=""><div class="u-small">Previous Post<h5>TIL how to rename mass files with zsh</h5></div></a></div><div class="post__nav__next"><a href="https://wagam.github.io/tild/til-how-to-reset-a-html-input-file.html" class="post__nav__link" rel="next"><div class="u-small">Next Post<h5>TIL how to reset a HTML input file</h5></div><img class="lazyload" src="https://wagam.github.io/tild/media/posts/18/responsive/dual-screen-1745705_1280-xs.png" data-srcset="https://wagam.github.io/tild/media/posts/18/responsive/dual-screen-1745705_1280-xs.png" data-expand="300" alt=""></a></div></nav></footer></article></main><footer class="footer"><a class="footer__logo" href="https://wagam.github.io/tild/">Tild</a><nav><ul class="footer__nav"></ul></nav><div class="footer__copyright">Marc © 2020</div></footer></div><script defer="defer" src="https://wagam.github.io/tild/assets/js/jquery-3.2.1.slim.min.js?v=5f48fc77cac90c4778fa24ec9c57f37d"></script><script defer="defer" src="https://wagam.github.io/tild/assets/js/scripts.min.js?v=07b53ae91f8045eab042a695e4a26034"></script></body></html>