<!DOCTYPE html><html lang="fr"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>TIL how to reset a HTML input file - Tild</title><meta name="description" content="When you want to upload a file, you often want to see a preview before sending it. To do this, I show a preview in a canvas. But even if I close the preview part, the input is still loaded with the selected filed. So,&hellip;"><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://wagam.github.io/tild/til-how-to-reset-a-html-input-file.html"><link rel="amphtml" href="https://wagam.github.io/tild/amp/til-how-to-reset-a-html-input-file.html"><link rel="alternate" type="application/atom+xml" href="https://wagam.github.io/tild/feed.xml"><link rel="alternate" type="application/json" href="https://wagam.github.io/tild/feed.json"><meta property="og:title" content="TIL how to reset a HTML input file"><meta property="og:image" content="https://wagam.github.io/tild/media/posts/18/dual-screen-1745705_1280.png"><meta property="og:site_name" content="Tild"><meta property="og:description" content="When you want to upload a file, you often want to see a preview before sending it. To do this, I show a preview in a canvas. But even if I close the preview part, the input is still loaded with the selected filed. So,&hellip;"><meta property="og:url" content="https://wagam.github.io/tild/til-how-to-reset-a-html-input-file.html"><meta property="og:type" content="article"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Josefin+Sans&family=Josefin+Slab:wght@700&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://wagam.github.io/tild/assets/css/style.css?v=0200466040e50c410ff8e08f29f3aa58"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://wagam.github.io/tild/til-how-to-reset-a-html-input-file.html"},"headline":"TIL how to reset a HTML input file","datePublished":"2020-04-27T14:22","dateModified":"2020-04-27T14:23","image":{"@type":"ImageObject","url":"https://wagam.github.io/tild/media/posts/18/dual-screen-1745705_1280.png","height":852,"width":1280},"description":"When you want to upload a file, you often want to see a preview before sending it. To do this, I show a preview in a canvas. But even if I close the preview part, the input is still loaded with the selected filed. So,&hellip;","author":{"@type":"Person","name":"Marc"},"publisher":{"@type":"Organization","name":"Marc"}}</script><script async src="https://wagam.github.io/tild/assets/js/lazysizes.min.js?v=300b16f1c14e1537e6b064f464ab33b1"></script></head><body><header class="topbar js-top is-sticky"><div class="topbar__inner"><a class="logo" href="https://wagam.github.io/tild/">Tild</a><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle">Menu</button><ul class="navbar__menu"></ul></nav></div></header><div class="content"><div class="infobar"><div class="infobar__search"><form action="https://wagam.github.io/tild/search.html"><input type="search" name="q" placeholder=" search..."></form></div></div><main class="main main--full"><article class="post"><figure class="post__featured-image" style="padding-bottom: calc(852/1280 * 100%)"><img class="lazyload" src="https://wagam.github.io/tild/media/posts/18/responsive/dual-screen-1745705_1280-xs.png" data-srcset="https://wagam.github.io/tild/media/posts/18/responsive/dual-screen-1745705_1280-xs.png 300w ,https://wagam.github.io/tild/media/posts/18/responsive/dual-screen-1745705_1280-sm.png 480w ,https://wagam.github.io/tild/media/posts/18/responsive/dual-screen-1745705_1280-md.png 768w ,https://wagam.github.io/tild/media/posts/18/responsive/dual-screen-1745705_1280-lg.png 1024w ,https://wagam.github.io/tild/media/posts/18/responsive/dual-screen-1745705_1280-xl.png 1360w ,https://wagam.github.io/tild/media/posts/18/responsive/dual-screen-1745705_1280-2xl.png 1600w" data-sizes="auto" alt=""><figcaption>Image by 200 Degrees from Pixabay</figcaption></figure><header class="u-header post__header"><h1>TIL how to reset a HTML input file</h1><div class="u-header__meta u-small"><div><a href="https://wagam.github.io/tild/authors/marc/" title="Marc">Marc</a> <time datetime="2020-04-27T14:22">27 avril 2020 </time><a href="https://wagam.github.io/tild/til/" class="u-tag u-tag--1">TIL</a></div></div></header><div class="post__entry u-inner"><p>When you want to upload a file, you often want to see a preview before sending it. To do this, I show a preview in a canvas. But even if I close the preview part, the input is still loaded with the selected filed. So, if you try to show again the preview of the same file, no event is catched in the onChange method.</p><p>I found a solution to do this with a single line of code.</p><p>To reset a HTML input file :</p><pre>&lt;input id="fileuploader" type="file" onChange={(event)=&gt; handleFileUpdate(event)}/&gt;</pre><p>It can be easily done by replacing its value by an empty string :</p><pre>document.getElementById("fileuploader").value = "";</pre><p>This way, if you try to upload again the same file, becuase the value has changed, the onChange event is catched and you can preview it again.</p><p>Hope it helps!</p><p> </p><p>Enjoy! </p></div><aside class="post__aside"><div class="post__last-updated u-small">This article was updated on 27 avril 2020</div><div class="post__share"></div></aside><footer class="post__footer"><ul class="post__tag box"><li><a href="https://wagam.github.io/tild/til/" class="u-tag u-tag--1" title="TIL">TIL</a></li><li><a href="https://wagam.github.io/tild/web_development/" class="u-tag u-tag--1" title="Web development">Web development</a></li></ul><div class="post__bio u-author box"><div><h4 class="u-author__name"><a href="https://wagam.github.io/tild/authors/marc/" title="Marc">Marc</a></h4></div></div><nav class="post__nav box"><div class="post__nav__prev"><a href="https://wagam.github.io/tild/til-how-to-change-url-without-updating-page-in-browser.html" class="post__nav__link" rel="prev"><img class="lazyload" src="https://wagam.github.io/tild/media/posts/17/responsive/white-ceramic-teacup-with-saucer-near-two-books-above-gray-904616-xs.jpg" data-srcset="https://wagam.github.io/tild/media/posts/17/responsive/white-ceramic-teacup-with-saucer-near-two-books-above-gray-904616-xs.jpg" data-expand="300" alt=""><div class="u-small">Previous Post<h5>TIL how to change url without updating page in browser</h5></div></a></div></nav></footer></article></main><footer class="footer"><a class="footer__logo" href="https://wagam.github.io/tild/">Tild</a><nav><ul class="footer__nav"></ul></nav><div class="footer__copyright">Marc © 2020</div></footer></div><script defer="defer" src="https://wagam.github.io/tild/assets/js/jquery-3.2.1.slim.min.js?v=5f48fc77cac90c4778fa24ec9c57f37d"></script><script defer="defer" src="https://wagam.github.io/tild/assets/js/scripts.min.js?v=07b53ae91f8045eab042a695e4a26034"></script></body></html>