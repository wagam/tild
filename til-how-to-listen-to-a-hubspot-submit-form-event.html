<!DOCTYPE html><html lang="fr"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>TIL how to listen to a Hubspot submit form event - Tild</title><meta name="description" content="For my current project, I need to send data to hubspot via a form. This form is managed by Hubspot and injected in my code during runtime. I cannot modify the sumit button behaviour. I dealt with this problem by listening the click event when&hellip;"><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://wagam.github.io/tild/til-how-to-listen-to-a-hubspot-submit-form-event.html"><link rel="amphtml" href="https://wagam.github.io/tild/amp/til-how-to-listen-to-a-hubspot-submit-form-event.html"><link rel="alternate" type="application/atom+xml" href="https://wagam.github.io/tild/feed.xml"><link rel="alternate" type="application/json" href="https://wagam.github.io/tild/feed.json"><meta property="og:title" content="TIL how to listen to a Hubspot submit form event"><meta property="og:image" content="https://wagam.github.io/tild/media/posts/15/adler-2918835_1280.jpg"><meta property="og:site_name" content="Tild"><meta property="og:description" content="For my current project, I need to send data to hubspot via a form. This form is managed by Hubspot and injected in my code during runtime. I cannot modify the sumit button behaviour. I dealt with this problem by listening the click event when&hellip;"><meta property="og:url" content="https://wagam.github.io/tild/til-how-to-listen-to-a-hubspot-submit-form-event.html"><meta property="og:type" content="article"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Josefin+Sans&family=Josefin+Slab:wght@700&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://wagam.github.io/tild/assets/css/style.css?v=0200466040e50c410ff8e08f29f3aa58"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://wagam.github.io/tild/til-how-to-listen-to-a-hubspot-submit-form-event.html"},"headline":"TIL how to listen to a Hubspot submit form event","datePublished":"2020-04-17T12:05","dateModified":"2020-04-17T12:08","image":{"@type":"ImageObject","url":"https://wagam.github.io/tild/media/posts/15/adler-2918835_1280.jpg","height":876,"width":1280},"description":"For my current project, I need to send data to hubspot via a form. This form is managed by Hubspot and injected in my code during runtime. I cannot modify the sumit button behaviour. I dealt with this problem by listening the click event when&hellip;","author":{"@type":"Person","name":"Marc"},"publisher":{"@type":"Organization","name":"Marc"}}</script><script async src="https://wagam.github.io/tild/assets/js/lazysizes.min.js?v=300b16f1c14e1537e6b064f464ab33b1"></script></head><body><header class="topbar js-top is-sticky"><div class="topbar__inner"><a class="logo" href="https://wagam.github.io/tild/">Tild</a><nav class="navbar js-navbar"><button class="navbar__toggle js-navbar__toggle">Menu</button><ul class="navbar__menu"></ul></nav></div></header><div class="content"><div class="infobar"><div class="infobar__search"><form action="https://wagam.github.io/tild/search.html"><input type="search" name="q" placeholder=" search..."></form></div></div><main class="main main--full"><article class="post"><figure class="post__featured-image" style="padding-bottom: calc(876/1280 * 100%)"><img class="lazyload" src="https://wagam.github.io/tild/media/posts/15/responsive/adler-2918835_1280-xs.jpg" data-srcset="https://wagam.github.io/tild/media/posts/15/responsive/adler-2918835_1280-xs.jpg 300w ,https://wagam.github.io/tild/media/posts/15/responsive/adler-2918835_1280-sm.jpg 480w ,https://wagam.github.io/tild/media/posts/15/responsive/adler-2918835_1280-md.jpg 768w ,https://wagam.github.io/tild/media/posts/15/responsive/adler-2918835_1280-lg.jpg 1024w ,https://wagam.github.io/tild/media/posts/15/responsive/adler-2918835_1280-xl.jpg 1360w ,https://wagam.github.io/tild/media/posts/15/responsive/adler-2918835_1280-2xl.jpg 1600w" data-sizes="auto" alt=""><figcaption>Image by Capri23auto from Pixabay</figcaption></figure><header class="u-header post__header"><h1>TIL how to listen to a Hubspot submit form event</h1><div class="u-header__meta u-small"><div><a href="https://wagam.github.io/tild/authors/marc/" title="Marc">Marc</a> <time datetime="2020-04-17T12:05">17 avril 2020 </time><a href="https://wagam.github.io/tild/til/" class="u-tag u-tag--1">TIL</a></div></div></header><div class="post__entry u-inner"><p>For my current project, I need to send data to hubspot via a form. This form is managed by Hubspot and injected in my code during runtime. I cannot modify the sumit button behaviour. </p><p>I dealt with this problem by listening the click event when someone clicks on the submit button. </p><p>I did it like this in my React component : </p><div><pre><code>class Compo extends React.Component {
</code><br><code>componentDidMount() {</code><br><code>// add eventListener after 1 sec to be sure hubspot form is loaded</code><br><code>  setTimeout(() =&gt;window.addEventListener('message', this.handleSubmitHubspotForm), 1000);</code><br><code>} </code><br><br><code>componentWillUnmount() {</code><br><code>//remove event listener when we change to a new page</code><br><code>window.removeEventListener('message', this.handleSubmitHubspotForm)</code><br><code>}</code><br><br><code>// method to catch event triggered by the submit button</code><br><code>handleSubmitHubspotForm = (event: any) =&gt; {</code><br><code>const decodedAndShortenUrl=decodeURI(urlToRedirect);</code><br><br><code>if (event.data.type==='hsFormCallback'&amp;&amp;event.data.eventName==='onFormSubmit') {</code><br><br><code>// redirect to a new URL when event is catch</code><br><code>setTimeout(() =&gt;Router.push(decodedAndShortenUrl), 5000)</code><br><code>};</code><br><br><code>}<br></code></pre><div>Nothing hard here but a quick snippet code reminder for a next time. </div><div> </div><div>Hope it helps. </div><div> </div><div>Enjoy! </div></div></div><aside class="post__aside"><div class="post__last-updated u-small">This article was updated on 17 avril 2020</div><div class="post__share"></div></aside><footer class="post__footer"><ul class="post__tag box"><li><a href="https://wagam.github.io/tild/til/" class="u-tag u-tag--1" title="TIL">TIL</a></li><li><a href="https://wagam.github.io/tild/web_development/" class="u-tag u-tag--1" title="Web development">Web development</a></li></ul><div class="post__bio u-author box"><div><h4 class="u-author__name"><a href="https://wagam.github.io/tild/authors/marc/" title="Marc">Marc</a></h4></div></div><nav class="post__nav box"><div class="post__nav__prev"><a href="https://wagam.github.io/tild/tid-notion.html" class="post__nav__link" rel="prev"><img class="lazyload" src="https://wagam.github.io/tild/media/posts/14/responsive/typewriter-801921_1280-xs.jpg" data-srcset="https://wagam.github.io/tild/media/posts/14/responsive/typewriter-801921_1280-xs.jpg" data-expand="300" alt=""><div class="u-small">Previous Post<h5>TID Notion</h5></div></a></div><div class="post__nav__next"><a href="https://wagam.github.io/tild/til-how-to-rename-mass-files-with-zsh.html" class="post__nav__link" rel="next"><div class="u-small">Next Post<h5>TIL how to rename mass files with zsh</h5></div><img class="lazyload" src="https://wagam.github.io/tild/media/posts/16/responsive/files-1614223_1280-xs.jpg" data-srcset="https://wagam.github.io/tild/media/posts/16/responsive/files-1614223_1280-xs.jpg" data-expand="300" alt=""></a></div></nav></footer></article></main><footer class="footer"><a class="footer__logo" href="https://wagam.github.io/tild/">Tild</a><nav><ul class="footer__nav"></ul></nav><div class="footer__copyright">Marc © 2020</div></footer></div><script defer="defer" src="https://wagam.github.io/tild/assets/js/jquery-3.2.1.slim.min.js?v=5f48fc77cac90c4778fa24ec9c57f37d"></script><script defer="defer" src="https://wagam.github.io/tild/assets/js/scripts.min.js?v=07b53ae91f8045eab042a695e4a26034"></script></body></html>